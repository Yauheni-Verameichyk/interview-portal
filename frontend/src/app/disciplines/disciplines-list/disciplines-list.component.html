
<div class="discipline-list" *ngIf="isLoaded;else elseBlock">
  <app-discipline-search (emitDisciplines)="receiveDisciplinesFromSearch($event)"></app-discipline-search>&nbsp;&nbsp;
  <i class="ion-loop text-info h2 link" (click)="ngOnInit()"></i>
  <div class="row" *requiredAuthority="'DISCIPLINES_FILTER_READ'">
    <div class="col-sm-7 align-middle">
      <div class="btn-group align-middle myAllFilter pull-right">
        <button type="button" class="btn btn-primary" [ngClass]="{'active': !(activeFilter === 'MY'), 'active': (activeFilter === 'MY')}" 
        (click)="activeFilter = 'MY'; disciplinesList = []; findDisciplines('MY');">My</button>
        <button type="button" class="btn btn-primary" [ngClass]="{'active': !(activeFilter === 'ALL'), 'active': (activeFilter === 'ALL')}" 
        (click)="activeFilter = 'ALL'; disciplinesList = []; findDisciplines('ALL')">All</button>
      </div>
    </div>
  </div><br>

  <table class="user-table table table-hover disciplineTableHead">
    <thead>
      <tr>
        <th scope="col" class="unwrap-indicator big-icon"> </th>
        <th scope="col" class="disciplineNameHead">Name</th>
        <th scope="col">Description</th>
        <th>
          <button *requiredAuthority="'DISCIPLINE_CREATE'" class="btn btn-success mr-2 pull-right" [routerLink]="['', {outlets: { popup: ['discipline', 'create'] } }]"
          routerLinkActive="active">Create new discipline</button>
        </th>
      </tr>
    </thead>
  </table>
  <app-discipline *ngFor="let discipline of disciplinesList" [discipline]="discipline" [childLevel]="0" [parentDisciplineName]="discipline.name"></app-discipline>
</div>
<ng-template #elseBlock>
  <div class="ball"></div>
</ng-template>
