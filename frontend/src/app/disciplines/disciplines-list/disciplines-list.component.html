<div class="discipline-list" *ngIf="isLoaded;else elseBlock">
  <!-- <i class="ion-loop text-info h2 link" (click)="ngOnInit()"></i> -->

  <br>
  <div class="tree-view">
    <div class="table-header">
      <span class="header-text">Disciplines:</span>
      <br>
      <div class="my-all-filter" *requiredAuthority="'DISCIPLINES_FILTER_READ'">
        <div class="">
          <div class="btn-group">
            <button type="button" class="btn btn-sm" [ngClass]="{'active': !(activeFilter === 'MY'), 'active': (activeFilter === 'MY')}"
              (click)="activeFilter = 'MY'; disciplinesList = []; findDisciplines('MY');">My</button>
            <button type="button" class="btn btn-sm" [ngClass]="{'active': !(activeFilter === 'ALL'), 'active': (activeFilter === 'ALL')}"
              (click)="activeFilter = 'ALL'; disciplinesList = []; findDisciplines('ALL');">All</button>
          </div>
        </div>
      </div>
      <app-discipline-search (emitDisciplines)="receiveDisciplinesFromSearch($event)"></app-discipline-search>&nbsp;&nbsp;
    </div>
    <tree-root class="expand-tree" [nodes]="disciplinesList" [options]="options"></tree-root>
  </div>

  <div *ngIf="activeDiscipline" class="view-discipline">
    <h3>
      <span *ngIf="!activeDiscipline?.parentName">Discipline</span>
      <span *ngIf="activeDiscipline?.parentName">Sub-item</span>
    </h3>
    <div class="form-group">
      <label for="disciplineName">
        <span *ngIf="!activeDiscipline?.parentName">Discipline</span>
        <span *ngIf="activeDiscipline?.parentName">Sub-item</span> name
        <span *ngIf="!noEdit">*</span>
      </label>
      <input name="disciplineName" class="form-control" [(ngModel)]="activeDiscipline.name" disabled>
    </div>

    <div class="form-group">
      <label for="disciplineDescription">Description</label>
      <textarea class="form-control discipline-description" [(ngModel)]="activeDiscipline.subscription" readonly></textarea>
    </div>


    <div *ngIf="activeDiscipline.disciplineHeadsList && activeDiscipline.disciplineHeadsList?.length !== 0" class="table-list">
      Discipline heads:
      <div *ngFor="let user of activeDiscipline?.disciplineHeadsList">
        <input type="text" class="form-control" value="{{user?.name}} {{user?.surname}}" disabled>
      </div>
    </div>
    <br>
  </div>



  <!-- <table class="user-table table table-hover disciplineTableHead">
    <thead>
      <tr>
        <th scope="col" class="unwrap-indicator big-icon"> </th>
        <th scope="col" class="disciplineNameHead">Name</th>
        <th scope="col">Description</th>
        <th>
          <button *requiredAuthority="'DISCIPLINE_CREATE'" class="btn btn-success mr-2 pull-right" [routerLink]="['', {outlets: { popup: ['discipline', 'create'] } }]"
            routerLinkActive="active">Create new discipline</button>
        </th>
      </tr>
    </thead>
  </table>
  <app-discipline *ngFor="let discipline of disciplinesList" [discipline]="discipline" [childLevel]="0" [parentDisciplineName]="discipline.name"></app-discipline> -->
</div>
<ng-template #elseBlock>
  <div class="ball"></div>
</ng-template>